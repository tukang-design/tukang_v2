/* app/globals.css */

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --background: #0d0d0d; /* near-black */
  --foreground: #ededed;
  --accent: #3e5947; /* deep green */
  --secondary: #d99d55; /* warm sand */
  --surface: #f2dc99; /* light surface */
  /* slate tokens used by components */
  --slate-200: #e6eef6;
  --slate-600: #475569;
  /* font variables are provided via next/font and set on the <html> element */
  --font-headline: ui-monospace, SFMono-Regular, Menlo, Monaco, "Roboto Mono",
    "Courier New", monospace;
  --font-body: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue",
    Arial, "Noto Sans", "Liberation Sans", sans-serif;
}

/* Prefer native dark-themed controls */
html {
  color-scheme: dark;
}

/* Use a muted accent color for native checkboxes/radios/progress */
input[type="checkbox"],
input[type="radio"],
progress,
select {
  accent-color: var(--secondary);
}

body {
  background-color: var(--background);
  color: var(--foreground);
  font-family: var(--font-body);
}

/* Global mobile font scaling: keep typography tighter on small screens */
@media (max-width: 640px) {
  html {
    font-size: 15px; /* down from default 16px (~-6.25%) */
  }
  /* Tighten common paddings/gaps produced by Tailwind utilities */
  .px-6 {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  .px-8 {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  .p-8 {
    padding: 1.25rem;
  }
  .p-6 {
    padding: 1rem;
  }
  .py-12 {
    padding-top: 2rem;
    padding-bottom: 2rem;
  }
  .py-16 {
    padding-top: 2.5rem;
    padding-bottom: 2.5rem;
  }
  .py-20 {
    padding-top: 3rem;
    padding-bottom: 3rem;
  }
  .pb-20 {
    padding-bottom: 3rem;
  }
  .pt-32 {
    padding-top: 6rem;
  }
  .gap-6 {
    gap: 1rem;
  }
  .gap-8 {
    gap: 1.25rem;
  }
}

@media (max-width: 480px) {
  html {
    font-size: 14px; /* ~-12.5% for compact phones */
  }
  .px-6 {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  .px-8 {
    padding-left: 1rem;
    padding-right: 1rem;
  }
  .p-8 {
    padding: 1rem;
  }
  .p-6 {
    padding: 0.875rem;
  }
  .py-12 {
    padding-top: 1.75rem;
    padding-bottom: 1.75rem;
  }
  .py-16 {
    padding-top: 2rem;
    padding-bottom: 2rem;
  }
  .py-20 {
    padding-top: 2.5rem;
    padding-bottom: 2.5rem;
  }
  .pb-20 {
    padding-bottom: 2.5rem;
  }
  .pt-32 {
    padding-top: 5rem;
  }
  .gap-6 {
    gap: 0.75rem;
  }
  .gap-8 {
    gap: 1rem;
  }
}

/* Heading hierarchy color usage */
h1,
h2 {
  font-family: var(--font-headline);
  color: var(--accent);
}
h3,
h4 {
  font-family: var(--font-headline);
  color: var(--foreground);
}
h5,
h6 {
  font-family: var(--font-headline);
  color: var(--secondary);
}

.accent {
  color: var(--accent);
}

.secondary {
  color: var(--secondary);
}

/* Custom scrollbar */
::-webkit-scrollbar {
  width: 8px;
}

::-webkit-scrollbar-track {
  background: var(--background);
}

::-webkit-scrollbar-thumb {
  background: var(--accent);
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #32e60f;
}

/* Smooth transitions */
* {
  transition-property: color, background-color, border-color,
    text-decoration-color, fill, stroke;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 150ms;
}

/* Accessibility helpers */
@layer components {
  /* Reusable non-interactive card style */
  .card {
    /* rounded-2xl / p-6 / md:p-8 equivalents written explicitly to avoid @apply issues */
    border-radius: 1rem; /* rounded-2xl */
    border: 1px solid var(--slate-600);
    background: var(--slate-200);
    padding: 1.5rem; /* p-6 */
  }
  @media (min-width: 768px) {
    .card {
      padding: 2rem; /* md:p-8 */
    }
  }
  /* Visible high-contrast focus ring using brand accent */
  /* apply focus-visible outline styles via :focus-visible to avoid variant @apply issues */
  .focus-ring:focus-visible {
    outline: 2px solid var(--accent);
    outline-offset: 2px;
  }

  /* Body-link style: underline with offset and thicker hover */
  .link-underline {
    text-decoration-line: underline;
    text-underline-offset: 2px;
    text-decoration-thickness: 2px;
  }
  .link-underline:hover {
    text-decoration-thickness: 4px;
  }
}

/* Simple page load/route-change fade */
@keyframes page-fade-in {
  from {
    opacity: 0;
    transform: translateY(6px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.page-fade {
  animation: page-fade-in 240ms ease-out both;
}

.fade-in {
  animation: page-fade-in 200ms ease-out both;
}

/* Respect reduced-motion preference */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* Larger base type on desktop for readability */
@media (min-width: 1024px) {
  html {
    font-size: 18px;
  }
}
